var AniJSLib=function(){var a=this,b="data-anijs",c="default",d="body";a.initializer=function(){a.helperCollection={},a.eventCollection={},a.eventIdCounter=0,a.registerHelper(c,{}),a.helperDefaultIndex=c,a.setRootNode(d),a.Parser=a._createParser(),a.animationEndEvent=a._animationEndPrefix()},a.setRootNode=function(b){a.rootNode=document.querySelector(b)},a.getHelper=function(b){var d=a.helperCollection;return d[b]||d[c]},a.run=function(){var c=[],d={};c=a._findAniJSNodeCollection(a.rootNode);var e=c.length,f=0;for(f;e>f;f++)item=c[f],d=a._getParsedAniJSSentenceCollection(item.getAttribute(b)),a._setupElementAnim(item,d)},a._createParser=function(){return new e},a.createAnimation=function(b,c){a._setupElementAnim(c,b)},a._setupElementAnim=function(b,c){var d=c.length,e=0;for(e;d>e;e++)item=c[e],a._setupElementSentenceAnim(b,item)},a._setupElementSentenceAnim=function(b,c){var d=a._whenHelper(b,c),e=a._whereHelper(b,c),g=a._whatHelper(b,c),h=a._howHelper(b,c),i=a._afterHelper(b,c),j=a._helperHelper(b,c);if(h+=" animated",""!==d){var k=e.length,l=0;for(l;k>l;l++){whereItem=e[l];var m=function(){var b=g.length,c=0;for(c;b>c;c++)whatListItem=g[c],f.addClass(whatListItem,h),whatListItem.addEventListener(a.animationEndEvent,function(b){if(b.target.removeEventListener(b.type,arguments.callee),f.removeClass(b.target,h),i){var c=a.helperCollection,d=c[j];if(d&&d[i])return d[i](b)}})};whereItem.addEventListener(d,m,!1),a.registerEventHandle(whereItem,d,m)}}},a.registerEventHandle=function(b,c,d){var e=b._aniJSEventID,f=a.eventCollection,g={eventType:c,listener:d};if(e)f[e].handleCollection.push(g);else{var h={handleCollection:[g]};f[++a.eventIdCounter]=h,b._aniJSEventID=a.eventIdCounter}},a.purge=function(b){var c=document.querySelectorAll(b),d=c.length,e=0;for(e;d>e;e++)a._purgeNode(c[e])},a._purgeNode=function(b){var c,d=b._aniJSEventID;if(d){c=a.eventCollection[d].handleCollection;var e=c.length,f=0;for(f;e>f;f++)item=c[f],b.removeEventListener(item.eventType,item.listener);a.eventCollection[d]=null,b._aniJSEventID=null}},a._whenHelper=function(a,b){var c="",d=b.when||c;return d},a._whereHelper=function(b,c){var d=b,e=[d],f=a.rootNode;return c.where&&(e="document"===c.where?[document]:"window"===c.where?[window]:f.querySelectorAll(c.where)),e},a._whatHelper=function(b,c){var d=b,e=[d],f=a.rootNode;return c.what&&(e=f.querySelectorAll(c.what)),e},a._howHelper=function(a,b){var c=b.how||"";return c},a._afterHelper=function(a,b){var c=b.after||"";return c},a._helperHelper=function(b,c){var d=c.helper||a.helperDefaultIndex;return d},a._getParsedAniJSSentenceCollection=function(b){return a.Parser.parse(b)},a._findAniJSNodeCollection=function(a){var c="["+b+"]";return a.querySelectorAll(c)},a.registerHelper=function(b,c){a.helperCollection[b]=c},a._animationEndPrefix=function(){for(var a=document.createElement("fakeelement"),b=["animation","OAnimation","MozAnimation","webkitAnimation"],c=["animationend","oAnimationEnd","animationend","webkitAnimationEnd"],d=0;d<b.length;d++)if(void 0!==a.style[b[d]])return c[d]};var e=function(){var a=this;a.parse=function(b){return a._parseDeclaration(b)},a._parseDeclaration=function(b){var c,d,e=[];c=b.split(";");var f=c.length,g=0;for(g;f>g;g++)d=a._parseSentence(c[g]),e.push(d);return e},a._parseSentence=function(b){var c,d,e={};c=b.split(",");var f=c.length,g=0;for(g;f>g;g++)d=a._parseDefinition(c[g]),e[d.key]=d.value;return e},a._parseDefinition=function(a){var b,c,d,e={};return b=a.split(":"),b.length>1&&(c=b[0].trim(),d=b[1].trim(),e.key=c,e.value=d),e}},f={addClass:function(a,b){b instanceof Array||(b=b.split(" "));for(var c=0,d=b.length;d>c;++c)b[c]&&!new RegExp("(\\s+|^)"+b[c]+"(\\s+|$)").test(a.className)&&(a.className=a.className.trim()+" "+b[c])},removeClass:function(a,b){b instanceof Array||(b=b.split(" "));for(var c=0,d=b.length;d>c;++c)a.className=a.className.replace(new RegExp("(\\s+|^)"+b[c]+"(\\s+|$)")," ").trim()},toggleClass:function(a,b){b&&(a.className=new RegExp("(\\s+|^)"+b+"(\\s+|$)").test(a.className)?a.className.replace(new RegExp("(\\s+|^)"+b+"(\\s+|$)")," ").trim():a.className.trim()+" "+b)},hasClass:function(a,b){return b&&new RegExp("(\\s+|^)"+b+"(\\s+|$)").test(a.className)}};a.initializer()},AniJS=new AniJSLib;AniJS.run();